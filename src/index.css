@tailwind base;
@tailwind components;
@tailwind utilities;

/* Variables couleurs dominantes */
:root {
  --fuchsia: #FF00FF;
  --fuchsia-dark: #CC00CC;
  --fuchsia-light: #FF66FF;
  --citron: #CCFF00;
  --citron-dark: #99CC00;
  --citron-light: #E6FF66;
}

/* Base styles avec couleurs dominantes */
body {
  background: linear-gradient(135deg, #1a0a1a 0%, #0d0d0d 50%, #0a1a0a 100%);
  min-height: 100vh;
}

/* Scrollbar stylée */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 0, 255, 0.1);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #FF00FF, #CCFF00);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #FF66FF, #E6FF66);
}

/* Animation des bulles */
@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
  50% { transform: translateY(-30px) rotate(180deg); opacity: 0.6; }
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 20px rgba(255, 0, 255, 0.5); }
  50% { box-shadow: 0 0 40px rgba(204, 255, 0, 0.8); }
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes slide-in {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes slide-out {
  from { transform: translateX(0); opacity: 1; }
  to { transform: translateX(100%); opacity: 0; }
}

@keyframes bounce-in {
  0% { transform: scale(0); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Classes utilitaires */
.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-pulse-glow {
  animation: pulse-glow 3s ease-in-out infinite;
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 3s ease infinite;
}

.animate-slide-in {
  animation: slide-in 0.4s ease-out forwards;
}

.animate-slide-out {
  animation: slide-out 0.4s ease-out forwards;
}

.animate-bounce-in {
  animation: bounce-in 0.5s ease-out;
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Glassmorphism avec couleurs */
.glass {
  background: rgba(255, 0, 255, 0.08);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 0, 255, 0.2);
}

.glass-citron {
  background: rgba(204, 255, 0, 0.08);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(204, 255, 0, 0.2);
}

/* Boutons avec couleurs dominantes */
.btn-fuchsia {
  background: linear-gradient(135deg, #FF00FF, #CC00CC);
  color: white;
  font-weight: 600;
  transition: all 0.3s ease;
}

.btn-fuchsia:hover {
  background: linear-gradient(135deg, #FF66FF, #FF00FF);
  box-shadow: 0 0 30px rgba(255, 0, 255, 0.6);
  transform: translateY(-2px);
}

.btn-citron {
  background: linear-gradient(135deg, #CCFF00, #99CC00);
  color: #1a1a1a;
  font-weight: 600;
  transition: all 0.3s ease;
}

.btn-citron:hover {
  background: linear-gradient(135deg, #E6FF66, #CCFF00);
  box-shadow: 0 0 30px rgba(204, 255, 0, 0.6);
  transform: translateY(-2px);
}

/* Cards avec bordures colorées */
.card-fuchsia {
  background: linear-gradient(135deg, rgba(255, 0, 255, 0.15), rgba(255, 0, 255, 0.05));
  border: 2px solid rgba(255, 0, 255, 0.3);
  box-shadow: 0 0 20px rgba(255, 0, 255, 0.1);
}

.card-citron {
  background: linear-gradient(135deg, rgba(204, 255, 0, 0.15), rgba(204, 255, 0, 0.05));
  border: 2px solid rgba(204, 255, 0, 0.3);
  box-shadow: 0 0 20px rgba(204, 255, 0, 0.1);
}

/* Inputs stylés */
.input-styled {
  background: rgba(255, 255, 255, 0.05);
  border: 2px solid rgba(255, 0, 255, 0.3);
  color: white;
  transition: all 0.3s ease;
}

.input-styled:focus {
  border-color: #CCFF00;
  box-shadow: 0 0 20px rgba(204, 255, 0, 0.3);
  outline: none;
}

.input-styled::placeholder {
  color: rgba(255, 255, 255, 0.4);
}

/* Navigation bottom */
.nav-item {
  transition: all 0.3s ease;
}

.nav-item.active {
  background: linear-gradient(135deg, #FF00FF, #CCFF00);
  color: #1a1a1a;
  box-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
}

.nav-item:not(.active):hover {
  background: rgba(255, 0, 255, 0.2);
  color: #FF00FF;
}

/* ===== STYLES D'IMPRESSION BULLETIN ===== */
@media print {
  /* Reset complet */
  *, *::before, *::after {
    box-sizing: border-box !important;
  }
  
  @page {
    size: A4 portrait;
    margin: 8mm;
  }
  
  html, body {
    width: 210mm !important;
    height: 297mm !important;
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    color: black !important;
    font-size: 9pt !important;
    line-height: 1.2 !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
  
  /* Cacher tout sauf le bulletin */
  body > * {
    display: none !important;
  }
  
  body > #root {
    display: block !important;
  }
  
  #root > * {
    display: none !important;
  }
  
  /* Zone imprimable du bulletin */
  .print-bulletin {
    display: block !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 210mm !important;
    height: 297mm !important;
    max-height: 297mm !important;
    overflow: hidden !important;
    background: white !important;
    padding: 5mm !important;
    margin: 0 !important;
    page-break-inside: avoid !important;
    page-break-after: avoid !important;
  }
  
  .print-bulletin * {
    color: black !important;
    background: white !important;
    border-color: #333 !important;
  }
  
  /* En-tête compact */
  .print-header {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding-bottom: 3mm !important;
    border-bottom: 2pt solid #FF00FF !important;
    margin-bottom: 3mm !important;
  }
  
  .print-header h1 {
    font-size: 14pt !important;
    font-weight: bold !important;
    color: #FF00FF !important;
    margin: 0 !important;
  }
  
  .print-header .school-info {
    text-align: right !important;
    font-size: 8pt !important;
  }
  
  /* Infos élève compact */
  .print-student-info {
    display: grid !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 2mm !important;
    padding: 2mm !important;
    background: #f5f5f5 !important;
    border: 1pt solid #ddd !important;
    margin-bottom: 3mm !important;
    font-size: 8pt !important;
  }
  
  .print-student-info div {
    background: transparent !important;
  }
  
  .print-student-info strong {
    color: #FF00FF !important;
  }
  
  /* Tableau des notes compact */
  .print-table {
    width: 100% !important;
    border-collapse: collapse !important;
    font-size: 8pt !important;
    margin-bottom: 3mm !important;
  }
  
  .print-table th {
    background: linear-gradient(135deg, #FF00FF, #CC00CC) !important;
    color: white !important;
    padding: 2mm 1mm !important;
    text-align: center !important;
    font-weight: bold !important;
    font-size: 7pt !important;
    border: 1pt solid #333 !important;
  }
  
  .print-table td {
    padding: 1.5mm 1mm !important;
    text-align: center !important;
    border: 1pt solid #999 !important;
    font-size: 8pt !important;
  }
  
  .print-table tr:nth-child(even) td {
    background: #f9f9f9 !important;
  }
  
  .print-table .subject-name {
    text-align: left !important;
    padding-left: 2mm !important;
    font-weight: 500 !important;
  }
  
  .print-table .moyenne-row td {
    background: #CCFF00 !important;
    font-weight: bold !important;
    color: #1a1a1a !important;
  }
  
  /* Section graphique + résumé */
  .print-summary {
    display: grid !important;
    grid-template-columns: 55mm 1fr !important;
    gap: 3mm !important;
    margin-bottom: 3mm !important;
  }
  
  .print-chart {
    width: 55mm !important;
    height: 55mm !important;
    border: 1pt solid #ddd !important;
    padding: 2mm !important;
  }
  
  .print-chart canvas {
    max-width: 100% !important;
    max-height: 100% !important;
  }
  
  .print-stats {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 2mm !important;
  }
  
  .print-stat-box {
    text-align: center !important;
    padding: 2mm !important;
    border: 1pt solid #FF00FF !important;
    border-radius: 2mm !important;
  }
  
  .print-stat-box .value {
    font-size: 14pt !important;
    font-weight: bold !important;
    color: #FF00FF !important;
  }
  
  .print-stat-box .label {
    font-size: 7pt !important;
    color: #666 !important;
  }
  
  /* Appréciation */
  .print-appreciation {
    padding: 2mm !important;
    border: 1pt solid #CCFF00 !important;
    background: #ffffee !important;
    margin-bottom: 3mm !important;
    font-size: 8pt !important;
  }
  
  .print-appreciation h4 {
    color: #99CC00 !important;
    margin: 0 0 1mm 0 !important;
    font-size: 9pt !important;
  }
  
  /* Signatures */
  .print-signatures {
    display: grid !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 3mm !important;
    margin-top: 3mm !important;
  }
  
  .print-signature-box {
    text-align: center !important;
    padding: 2mm !important;
    border-top: 1pt solid #333 !important;
  }
  
  .print-signature-box .title {
    font-size: 7pt !important;
    color: #666 !important;
    margin-bottom: 8mm !important;
  }
  
  .print-signature-box img {
    max-height: 12mm !important;
    max-width: 25mm !important;
  }
  
  /* Pied de page */
  .print-footer {
    position: absolute !important;
    bottom: 5mm !important;
    left: 5mm !important;
    right: 5mm !important;
    text-align: center !important;
    font-size: 7pt !important;
    color: #999 !important;
    border-top: 1pt solid #ddd !important;
    padding-top: 2mm !important;
  }
  
  /* Cacher éléments non imprimables */
  .no-print,
  button,
  nav,
  .nav-bottom,
  .notifications,
  .fab-contact {
    display: none !important;
  }
}

/* Preview bulletin dans l'app */
.bulletin-preview {
  background: white;
  color: black;
  padding: 20px;
  border-radius: 8px;
  max-width: 210mm;
  margin: 0 auto;
}

.bulletin-preview table {
  width: 100%;
  border-collapse: collapse;
}

.bulletin-preview th,
.bulletin-preview td {
  border: 1px solid #333;
  padding: 6px 8px;
  text-align: center;
}

.bulletin-preview th {
  background: linear-gradient(135deg, #FF00FF, #CC00CC);
  color: white;
  font-weight: bold;
}

.bulletin-preview tr:nth-child(even) {
  background: #f5f5f5;
}

/* Responsive */
@media (max-width: 768px) {
  .glass, .glass-citron {
    backdrop-filter: blur(10px);
  }
}
